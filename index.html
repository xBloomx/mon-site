<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>F.Dussault Pro</title>

    <link rel="apple-touch-icon" href="assets/logo_app.png">
    <link rel="icon" type="image/png" href="assets/logo_app.png">

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="F.Dussault">
    <meta name="theme-color" content="#1e1f26">

    <style>
        /* =========================================
           1. VARIABLES & THEME
           ========================================= */
        :root { 
            --app-bg: #1e1f26;
            --sidebar-bg: #fcca46; 
            --active-bg: rgba(255, 255, 255, 0.4);
            --hover-bg: rgba(255, 255, 255, 0.2);
            --icon-color: #000000;
        }
        
        * { box-sizing: border-box; margin: 0; padding: 0; }

        body { 
            font-family: 'Segoe UI', Arial, sans-serif;
            background-color: var(--app-bg); 
            height: 100vh;
            width: 100vw;
            display: flex;
            overflow: hidden;
        }

        /* =========================================
           2. BARRE LATÉRALE (MENU)
           ========================================= */
        .sidebar {
            width: 80px;
            background-color: var(--sidebar-bg);
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            justify-content: space-between;
            padding: 20px 0; 
            z-index: 1000;
            flex-shrink: 0;
            box-shadow: 2px 0 10px rgba(0,0,0,0.5);
            transition: transform 0.3s ease;
        }

        .sidebar-top, .sidebar-bottom { 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            gap: 15px;
            width: 100%; 
        }

        .nav-btn {
            background: none;
            border: none; 
            cursor: pointer; 
            padding: 12px; 
            border-radius: 12px;
            display: flex; 
            justify-content: center; 
            align-items: center; 
            transition: 0.2s;
            color: var(--icon-color);
            width: 56px;
            height: 56px;
        }

        .nav-btn:hover { background-color: var(--hover-bg); }
        .nav-btn.active { background-color: var(--active-bg); }
        
        .nav-btn svg { 
            width: 26px; 
            height: 26px; 
            fill: none; 
            stroke: currentColor; 
            stroke-width: 2; 
            stroke-linecap: round; 
            stroke-linejoin: round;
        }

        /* Bouton Menu Burger spécial (tout en haut) */
        .nav-btn.menu-burger svg { stroke-width: 3; }

        /* =========================================
           3. ZONE PRINCIPALE (IFRAME)
           ========================================= */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            background-color: var(--app-bg);
            position: relative;
        }

        /* L'iframe charge les pages HTML externes */
        iframe {
            width: 100%;
            height: 100%;
            border: none;
            background-color: transparent;
        }

        /* =========================================
           4. ADAPTATION MOBILE
           ========================================= */
        .mobile-menu-btn {
            display: none;
            position: fixed;
            top: 15px;
            right: 15px;
            background: var(--sidebar-bg);
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 8px;
            z-index: 2000;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
        }
        .mobile-menu-btn svg { width: 24px; height: 24px; stroke: black; stroke-width: 3; fill: none; }

        .sidebar-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 999;
            backdrop-filter: blur(2px);
        }

        @media (max-width: 768px) {
            .mobile-menu-btn { display: flex; justify-content: center; align-items: center; }
            .sidebar {
                position: fixed;
                left: 0; top: 0; bottom: 0;
                transform: translateX(-100%);
            }
            .sidebar.open { transform: translateX(0); }
            .sidebar-overlay.open { display: block; }
        }
    </style>
</head>
<body>

    <button class="mobile-menu-btn" onclick="toggleMenu()">
        <svg viewBox="0 0 24 24"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
    </button>

    <div class="sidebar-overlay" onclick="toggleMenu()"></div>

    <div class="sidebar" id="sidebar">
        <div class="sidebar-top">
            <button class="nav-btn menu-burger" onclick="toggleMenu()">
                <svg viewBox="0 0 24 24"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
            </button>
            
            <button class="nav-btn active" onclick="loadPage('code_facture.html', this)" title="Factures">
                <svg viewBox="0 0 24 24">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                    <polyline points="14 2 14 8 20 8"></polyline>
                    <path d="M12 18v-6"></path>
                    <path d="M9 15h6"></path>
                    <path d="M9 13s0-1 3-1 3 1 3 1"></path>
                    <path d="M9 17s0 1 3 1 3-1 3-1"></path>
                </svg>
            </button>

            <button class="nav-btn" onclick="loadPage('code_feuille_de_temps.html', this)" title="Feuilles de temps">
                <svg viewBox="0 0 24 24">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                    <polyline points="14 2 14 8 20 8"></polyline>
                    <circle cx="12" cy="14" r="3"></circle>
                    <path d="M12 12v2l1.5 1.5"></path>
                </svg>
            </button>

            <button class="nav-btn" onclick="loadPage('code_notes.html', this)" title="Notes">
                <svg viewBox="0 0 24 24">
                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                    <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                </svg>
            </button>

            <button class="nav-btn" onclick="loadPage('code_calendrier.html', this)" title="Calendrier">
                <svg viewBox="0 0 24 24">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                    <line x1="16" y1="2" x2="16" y2="6"></line>
                    <line x1="8" y1="2" x2="8" y2="6"></line>
                    <line x1="3" y1="10" x2="21" y2="10"></line>
                </svg>
            </button>

            <button class="nav-btn" onclick="loadPage('code_clients.html', this)" title="Clients">
                <svg viewBox="0 0 24 24">
                    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                    <circle cx="9" cy="7" r="4"></circle>
                    <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                    <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                </svg>
            </button>

            <button class="nav-btn" onclick="loadPage('code_parametres.html', this)" title="Paramètres">
                <svg viewBox="0 0 24 24">
                    <circle cx="12" cy="12" r="3"></circle>
                    <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                </svg>
            </button>
        </div>

        <div class="sidebar-bottom">
            <button class="nav-btn" title="Mon Profil">
                <svg viewBox="0 0 24 24">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                </svg>
            </button>
        </div>
    </div>

    <div class="main-content">
        <iframe id="app-frame" src="code_facture.html" title="Application F.Dussault"></iframe>
    </div>

    <script>
        // Fonction pour changer d'onglet
        function loadPage(pageUrl, btnElement) {
            // Change la source de l'iframe
            document.getElementById('app-frame').src = pageUrl;
            
            // Met à jour la surbrillance (bouton actif)
            const buttons = document.querySelectorAll('.nav-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            btnElement.classList.add('active');

            // Ferme le menu sur mobile après un clic
            if(window.innerWidth <= 768) {
                toggleMenu();
            }
        }

        // Fonction pour ouvrir/fermer le menu sur mobile
        function toggleMenu() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.querySelector('.sidebar-overlay');
            sidebar.classList.toggle('open');
            overlay.classList.toggle('open');
        }
    </script>
</body>
</html>